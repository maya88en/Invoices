<div class="col-xs-12">
  <%= simple_form_for(@invoice) do |f| %>
    <div id="invoice-wrap">
      <%= f.error_notification %>
      <div class="row">
        <div class="col-xs-12">
          <h3 class="page-header">INVOICE<small class="pull-right">Date:
            <span class="invoice_header_date"></span></small></h3>
        </div><!-- /.col -->
      </div>

      <div class="row invoice-info">
        <div class="col-xs-4 invoice-col">
          From
          <address>
            <%= f.input_field :company, class: "form-control", id: "1" %>
            <input class="form-control" id="2" placeholder="address line 1"/>
            <input class="form-control" id="3" placeholder="address line 2"/>
            <input class="form-control" id="4" placeholder="phone number"/>
          </address>
        </div><!-- /.col -->
        <div class="col-xs-4 invoice-col">
          To
          <address>
            <%= f.input_field :contragent, class: "form-control", id: "5" %>
            <input class="form-control" id="6" placeholder="address line 1"/>
            <input class="form-control" id="7" placeholder="address line 2"/>
            <input class="form-control" id="8" placeholder="phone number"/>
          </address>
        </div><!-- /.col -->
        <div class="col-xs-4 invoice-col">
          <form class="form-horizontal">

            <div class="form-group">
              <div class="col-xs-4"><label>Invoice #</label></div>
              <div class="col-xs-8 invoice_num">
                <span id="invoice_number"><%= (Invoice.last.present? ? (Invoice.last.id + 1) : 1) %></span>
              </div>
            </div>
            <div class="col-xs-12"></div>
            <div class="form-group">
              <div class="col-xs-4"><%= f.label :date, required: false %></div>
              <div class="col-xs-8"><%= f.input_field :date, class: "form-control", id: "invoice_date" %></div>
            </div>

            <div class="col-xs-12"></div>
            <div class="form-group">
              <div class="col-xs-4"><%= f.label :currency, required: false %></div>
              <div class="col-xs-8"><%= f.input_field :currency, id: "invoice_currency", class: "form-control" %></div>
            </div>


            <div class="col-xs-12"></div>
            <div class="form-group">
              <div class="col-xs-5 invoice_space"><label>Amount due</label>
              </div>
              <div class="col-xs-7 invoice_space bold" style="text-align:right; padding-top:7px">
                <span class="due">875.00</span><span class="subtotal_currency"></span>
              </div>
            </div>
          </form>
        </div><!-- /.col -->
      </div><!-- /.row -->

      <div class="row">
        <div class="col-xs-12 table-responsive">
          <hr>
          <table class="table table-hover" id="items">

            <thead>
            <th class="item-name">Item</th>
            <th class="description">Serial Number</th>
            <th class="unit">Unit Cost</th>
            <th class="quantity">Quantity</th>
            <th class="units">Price</th>
            <th class="no_print">Actions</th>
            </thead>

            <tbody>
            <% 2.times do %>
              <tr class="item-row">
                <td>
                  <select name="pid[]" class="form-control item_name form-control-lg" value="Item #1" required>
                    <% @products.each do |product| %>
                      <option><%= product.name %></option>
                    <% end %>
                  </select>


                </td>

                <td>
                  <select name="pid[]" class="form-control item_desc form-control-lg" value="Description" required>
                    <option>921</option>
                    <option>23306</option>
                    <option>23307</option>
                    <option>23309</option>
                    <option>23310</option>
                    <option>23311</option>
                    <option>23312</option>
                    <option>23313</option>
                    <option>23314</option>
                    <option>23317</option>
                    <option>23318</option>
                    <option>23319</option>
                    <option>23320</option>
                    <option>23321</option>

                    <option>1001670403</option>
                    <option>1001780403</option>
                    <option>1001870403</option>
                    <option>1001880403</option>
                    <option>1001890403</option>
                    <option>1001900403</option>
                    <option>1001910403</option>
                    <option>1001920403</option>
                    <option>1001940403</option>

                    <option>1001883250</option>
                    <option>1001903250</option>
                    <option>1001913250</option>
                    <option>1001953250</option>
                    <option>1002003250</option>
                    <option>1002063250</option>
                    <option>1002073250</option>
                    <option>1002093250</option>
                    <option>1002073250</option>
                    <option>1002093250</option>
                    <option>1002133250</option>

                  </select>

                </td>

                <td><input class="form-control cost" value="650.00"/></td>
                <td><input class="form-control qty" value="1"/></td>
                <td class="price_td">
                  <span class="price">650.00</span><span class="subtotal_currency"></span>
                </td>
                <td class="delete_td">
                  <a class="delete" href="javascript:;" title="Remove row"><span class="fas fa-window-close"></span></a>
                </td>
              </tr>
            <% end %>

            <tr id="hiderow">
              <td colspan="6">
                <a id="addrow" class="btn btn-success btn-sm" href="javascript:;" title="Add a row"><span class="ti-plus"></span>
                  Add a row</a></td>
            </tr>
            </tbody>
          </table>
        </div>
      </div>

      <div class="row">
        <div class="col-xs-6 col-xs-offset-6">
          <div class="table-responsive">
            <table class="table table-hover" id="totals">
              <tr>
                <th style="width:50%">Subtotal:</th>
                <td>
                  <span id="subtotal">875.00</span><span class="subtotal_currency"></span>
                </td>
              </tr>
              <tr>
                <th>Tax:</th>
                <td><input id="9" class="form-control" value="0.00"/></td>
              </tr>
              <tr>
                <th>Total:</th>
                <td class="balance">
                  <span class="due" id="invoice_total">875.00</span><span class="subtotal_currency"></span>
                </td>
                <%= f.hidden_field :amount, id: "invoice_total1" %>
              </tr>
            </table>
          </div>
        </div><!-- /.col -->
      </div>

      <div class="row">
        <div class="col-xs-12 pull-left">
          <a class="btn btn-info btn-sm" id="invoice_button" data-toggle="modal" data-target="#invoice_modal">Show
            Invoice</a>
          <%= f.button :submit, 'Submit Payment', class: 'btn btn-warning btn-sm', id: "submit_invoice" %>
        </div>
      </div>

      <div id="terms">
        <h5>Terms</h5>
        <textarea id="10">Payment terms: 100% Upon Delivery.</textarea>
      </div>
    </div>
  <% end %>
</div>

<div class="modal" id="invoice_modal">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="container-fluid invoice_wrapper" id="print-me">
        <%= render 'invoice' %>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-primary" onclick="printDiv('print-me')">Print</button>
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>